<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Moblin Scoreboard Control</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/remote.css" />
  </head>
  <body class="p-2">
    <div class="h-full flex flex-col max-w-lg mx-auto space-y-2">
      <!-- Teams -->
      <div id="ctrl" class="opacity-30 pointer-events-none flex gap-2">
        <div id="t1a" class="flex-1 space-y-2"></div>
        <div id="t2a" class="flex-1 space-y-2"></div>
      </div>

      <!-- Persistent Controls (Clock & Info) -->
      <div class="card grid grid-cols-4 gap-2 items-center shadow-xl">
        <button
          onclick="window.sendToggleClock()"
          class="btn btn-top bg-indigo-600 text-white border-none"
        >
          CLOCK
        </button>
        <input
          type="text"
          id="gti"
          onblur="window.update()"
          placeholder="00:00"
          class="btn-top font-mono text-lg text-indigo-400 bg-black rounded"
        />
        <select
          id="dur-sel"
          onchange="window.setDuration(this.value)"
          class="btn-top bg-black rounded"
        ></select>
        <select
          id="gtd"
          onchange="
            window.state.global.timerDirection = this.value;
            window.update();
          "
          class="btn-top bg-black rounded"
        >
          <option value="up">UP</option>
          <option value="down">DOWN</option>
        </select>
      </div>

      <details>
        <summary>HISTORICAL SCORES</summary>
        <div class="grid grid-cols-5 gap-1 mt-1" id="history-grid"></div>
      </details>

      <!-- Actions -->
      <div class="grid grid-cols-2 gap-2">
        <button onclick="window.resetSet()" id="btn-reset-set" class="btn btn-ctrl border-zinc-600">
          Next Set/Period
        </button>
        <button onclick="window.newMatch()" class="btn btn-ctrl border-red-900 text-red-400">
          New Match
        </button>
      </div>

      <!-- Config Menu -->
      <details open>
        <summary>
          <span>SCOREBOARD CONFIGURATION</span>
          <span id="stat" class="status-text text-red-500">Disconnected</span>
        </summary>
        <div class="card grid grid-cols-4 gap-2 mt-1">
          <!-- Selectors Moved Here -->
          <select
            id="sport-selector"
            onchange="window.switchSport(this.value)"
            class="col-span-2 btn h-9 text-[10px] bg-black"
          >
            <option value="">LOADING...</option>
          </select>
          <select
            id="layout-selector"
            onchange="window.switchLayout(this.value)"
            class="col-span-2 btn h-9 text-[10px] bg-black"
          >
            <option value="stacked">Stacked</option>
            <option value="stackedInline">Stacked Inline</option>
            <option value="sideBySide">Side by Side</option>
            <option value="stackHistory">Stack History</option>
          </select>

          <input
            type="text"
            id="gt"
            onblur="window.update()"
            placeholder="TITLE"
            class="col-span-2 conf-input px-2"
          />
          <div id="lbl-period" class="conf-label">PER</div>
          <input type="text" id="gp" onblur="window.update()" class="conf-input" />

          <button id="btn-show-title" onclick="window.tog('showTitle')" class="btn h-9 text-[10px]">
            Title
          </button>
          <button
            id="btn-show-2nd"
            onclick="window.tog('showSecondaryRow')"
            class="btn h-9 text-[10px]"
          >
            More stats
          </button>
          <button id="btn-show-stats" onclick="window.tog('showStats')" class="btn h-9 text-[10px]">
            Info Box
          </button>
          <input
            type="text"
            id="gi"
            onblur="window.update()"
            placeholder="INFO BOX"
            class="conf-input px-2"
          />
        </div>
      </details>

      <!-- Footer -->
      <div
        class="btn-top border border-zinc-800 rounded font-mono text-xs flex items-center justify-center gap-4 text-zinc-500"
      >
        <div>BIT: <span id="sb" class="text-white">--</span></div>
        <div>BAT: <span id="sp" class="text-white">--</span></div>
        <div id="si" class="text-amber-500">Syncing...</div>
      </div>
    </div>

    <script src="js/remote.mjs" type="module"></script>
  </body>
</html>
